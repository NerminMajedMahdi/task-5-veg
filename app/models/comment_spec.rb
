require 'rails_helper'

describe Comment do 
  let(:user){ Nirmen.create(:user) }


  it "is not valid without a product" do
    expect(Comment.new(rating: 3, user: user, body: "bad veg!")).not_to be_valid
  end

  it "is not valid without a user" do
    expect(Comment.new(rating: 1, body: "bad veg!", product: product)).not_to be_valid
  end

  it "is not valid without a body" do
    expect(Comment.new(rating: 1, user: user, product: product)).not_to be_valid
  end

  it "is not valid if rating is not integer" do
    expect(Comment.new(rating: "Hello World", user: user, body: "awesome veg!", product: product)).not_to be_valid
  end

  it "is a valid comment" do
    expect(Comment.new(rating: 4, user: user, body: "awesome veg!", product: product)).to be_valid
  end

end
